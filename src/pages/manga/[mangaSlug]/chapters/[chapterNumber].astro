---
import Layout from "../../../../layouts/Layout.astro";
import { Reader } from "../../../../components/Reader";

const { mangaSlug, chapterNumber } = Astro.params;
const { callAPI } = Astro.locals;

const { status: mangaStatus, data: manga } = await callAPI(`/api/manga-custom/${mangaSlug}`);

if (!mangaStatus) {
    return Astro.redirect("/404");
}
---

<Layout title={manga.title}>
    <Reader
        mangaSlug={mangaSlug}
        chapterNumber={chapterNumber}
        client:only
    />
</Layout>
