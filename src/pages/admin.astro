---
import AdminLayout from '../layouts/AdminLayout.astro';
import { AdminDashboard } from '../components/admin/AdminDashboard.jsx';
import { getTranslator } from "../util/translate";

const { organization, logged } = Astro.locals;
const _ = getTranslator(organization.language);

if (!logged) {
  Astro.redirect("/login");
}
---

<AdminLayout title={_("admin_panel_title")}>
    <AdminDashboard organization={organization} client:only />
</AdminLayout>
